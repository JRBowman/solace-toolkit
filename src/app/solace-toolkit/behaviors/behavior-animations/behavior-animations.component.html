<solacetk-model-list [(model)]="model" moduleName="Behavior Animations" (modelCreated)="CreateAnim()"
    [hasPreview]="true" (modelClosed)="CloseAnim()" (modelLoaded)="LoadAnim()" modelUri="Behaviors/animations"
    moduleColor="#ac5c36" modulePlateType="An">
    <div class="editor">

    </div>

    <div class="editor-panels">

        <!-- <mat-accordion class="auto-flex align-start full-width"> -->
        <div *ngIf="editorState == 2" class="disp-flex auto-flex full-width">

            <solacetk-controller-component [(model)]="model.components" panelColor="#006064" style="flex: 0 1 24em;"
                panelElevation="0" [(selectedComponent)]="selectedComponent">

                <div class="component-actions">
                    <button mat-icon-button matTooltip="Sync Component State" color="primary" class="no-flex"
                    (click)="getComponentVariableData()">
                    <mat-icon>sync_alt</mat-icon>
                </button>
                </div>


            </solacetk-controller-component>

            <!-- Frames Content: -->
            <solacetk-animation-editor [(model)]="model.actFrameData" [modelName]="model.name"
                [(components)]="model.components" style="flex: 1 1 48em;" [(selectedFrame)]="selectedFrame">
            </solacetk-animation-editor>

            <solacetk-attributes-panel *ngIf="selectedFrame" [panelMode]="1" style="flex: 0 1 24em;"
                [panelName]="'Frame ' + selectedFrame.name + ' Data'" panelType="expansionpanel"
                [(model)]="selectedFrame.downstreamData" panelElevation="0">
            </solacetk-attributes-panel>

            <!-- <solacetk-controller-component class="auto-flex width-33" [(model)]="model.components"
                    panelColor="#006064" (getStateData)="onGetStateData($event)">
                </solacetk-controller-component> -->

        </div>

    </div>

    <div class="editor-buttons">

        <button mat-icon-button color="accent" matTooltip="Create State from Animation"
            aria-label="Create State from Animation" (click)="CreateState()">
            <mat-icon>publish</mat-icon>
        </button>

        <button mat-icon-button matSuffix (click)="cleanAllFrameNames()">
            <mat-icon>cleaning_services</mat-icon>
        </button>
    </div>

    <!-- List Buttons -->
    <div class="list-buttons">

        <button mat-icon-button color="accent" matTooltip="Import Many Animations Aseprite Files."
            aria-label="Import Many Animations Aseprite Files." (click)="aseUpload.click()">
            <mat-icon>file_open</mat-icon>
        </button>
        <input type="file" class="file-input" (change)="importAseAnims($event)" accept=".ase,.aseprite" #aseUpload
            multiple>

    </div>

</solacetk-model-list>